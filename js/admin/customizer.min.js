!function(n,i){i.ikiToolkit=window.ikiToolkit||{},i.ikiToolkit.admin=i.ikiToolkit.admin||{},i.ikiToolkit.admin.customizer=i.ikiToolkit.admin.customizer||{},i.ikiToolkit.admin.customizer.elementUpdates={backgroundColor:function(n,i,e,o){function t(n,e){var t;t=e&&-1!==e.indexOf("iki_do_not_parse")?n:JSON.parse(n)[0].value,o&&!o()||i.css("background-color",t)}return wp.customize("fw_options["+n+"]",function(n){e&&i.css("transition","none"),n.bind(t)}),t},fill:function(n,i,e,o){function t(n,e){var t;t=e&&-1!==e.indexOf("iki_do_not_parse")?n:JSON.parse(n)[0].value,o&&!o()||i.css("fill",t)}return wp.customize("fw_options["+n+"]",function(n){n.bind(t)}),t},borderColorSingleSide:function(n,i,e,o){wp.customize("fw_options["+n+"]",function(n){n.bind(function(n){if(!o||o()){var t=JSON.parse(n);i.css("border-"+e+"-color",t[0].value)}})})},borderColor:function(n,i,e){wp.customize("fw_options["+n+"]",function(n){n.bind(function(n){if(!e||e()){var o=JSON.parse(n);i.css("border-color",o[0].value)}})})},color:function(n,i,e,o,t){var s=this;wp.customize("fw_options["+n+"]",function(n){e&&i.css("transition","none"),t&&!t()||n.bind(function(n){var e=JSON.parse(n);o?s._important(i,"color",e[0].value):i.css("color",e[0].value)})})},colorWithCheck:function(n,i,e,o,t){var s=this;wp.customize("fw_options["+n+"]",function(n){e&&i.css("transition","none"),n.bind(function(n){if(!t||t()){var e=JSON.parse(n);o?s._important(i,"color",e[0].value):i.css("color",e[0].value)}})})},fontSizeRelative:function(n,i,e,o){var t=this;wp.customize("fw_options["+n+"]",function(n){e&&i.css("transition","none"),n.bind(function(n){var e=JSON.parse(n),s=e[0].value;s="default"===s?14:-1!==s.indexOf("+")?14+Number(s.length):14-Number(s.length),s+="px",o?t._important(i,"font-size",s):i.css("font-size",s)})})},_important:function(n,i,e){n.jquery?n.each(function(){this.style.setProperty([i],e,"important")}):n.style.setProperty([i],e,"important")},backgroundSize:function(n,i,e){wp.customize("fw_options["+n+"]",function(n){e&&i.css("transition","none"),n.bind(function(n){var e=JSON.parse(n);i.css("background-size",e[0].value)})})},backgroundPosition:function(n,i,e){wp.customize("fw_options["+n+"]",function(n){e&&i.css("transition","none"),n.bind(function(n){var e=JSON.parse(n);i.css("background-position",e[0].value)})})},backgroundRepeat:function(n,i,e){wp.customize("fw_options["+n+"]",function(n){e&&i.css("transition","none"),n.bind(function(n){var e=JSON.parse(n);i.css("background-repeat",e[0].value)})})},backgroundAttachment:function(n,i,e){wp.customize("fw_options["+n+"]",function(n){e&&i.css("transition","none"),n.bind(function(n){var e=JSON.parse(n);i.css("background-attachment",e[0].value)})})},background:function(n,i,e,o){this.backgroundSize("sass_"+n+"_size_bg",i,e),this.backgroundPosition("sass_"+n+"_position_bg",i,e),this.backgroundRepeat("sass_"+n+"_repeat_bg",i,e),this.backgroundAttachment("sass_"+n+"_attachment_bg",i,e),this.backgroundColor("sass_"+n+"_color_bg",i,e,o)},hover:function(n,i,e,o,t){o&&this.removeTransition(i),wp.customize("fw_options["+n+"]",function(n){var o,t;n.bind(function(n){var i=JSON.parse(n);t=i[0].value}),i.on("mouseenter",function(n){o=n.currentTarget.style[e],n.currentTarget.style.setProperty([e],t,"important")}).on("mouseleave",function(n){n.currentTarget.style.setProperty([e],o,"important")})})},hoverWithCheck:function(n,i,e,o,t,s){o&&this.removeTransition(i),wp.customize("fw_options["+n+"]",function(n){var o,t;n.bind(function(n){if(!s||s()){var i=JSON.parse(n);t=i[0].value}}),s&&!s()||i.on("mouseenter",function(n){o=n.currentTarget.style[e],n.currentTarget.style.setProperty([e],t,"important")}).on("mouseleave",function(n){n.currentTarget.style.setProperty([e],o,"important")})})},removeTransition:function(n){n.css("transition","none")},setupMenuIcon:function(i,e){var o=/(fa\s)(fa-[^\s].+)\s/,t=/fa-([^\s].+)/;wp.customize("fw_options["+e+"]",function(e){e.bind(function(e){var s=JSON.parse(e),a=s[0].value.match(t),r=s[0].value+" fa-icon-"+a[1]+" ";i.each(function(){var i=n(this),e=i.attr("class");e.match(o)?(e=e.replace(o,r),i.attr("class",e)):i.addClass(r)})})})},setupMenuIconSize:function(n,i){wp.customize("fw_options["+i+"]",function(i){i.bind(function(i){var e=JSON.parse(i);n.removeClass("iki-font-s iki-font-m iki-font-l iki-font-xl iki-font-xxl"),n.addClass(e[0].value)})})},jsonToValue:function(n){var i=wp.customize.instance("fw_options["+n+"]").get();return 0===i.indexOf("[")&&(i=JSON.parse(i),i=i[0].value),i},checkEnabledKey:function(n){var i=-1!==wp.customize.instance("fw_options["+n+"]").get().indexOf("enabled");return wp.customize("fw_options["+n+"]",function(n){n.bind(function(n){var e=JSON.parse(n);i=-1!==e[0].value.indexOf("enabled")})}),function(){return i}}}}(jQuery,window),jQuery(document).ready(function(n){var i=n("body");wp.customize.preview.bind("active",function(){wp.customize.preview.bind("iki_active_panel_id",function(n){i.trigger("iki_fs_panel_open",n)})})}),jQuery(document).ready(function(n){"use strict";function i(){window.PubSub.publish("iki_css_injection_request")}for(var e=[],o=1;o<=2;o++)e.push(Object.create(window.ikiToolkit.customizer.FsPanels).init(o));e.push(Object.create(window.ikiToolkit.customizer.FsPanels).init("search"));var t=Object.create(window.ikiToolkit.admin.customizer.elementUpdates),s=t.checkEnabledKey("fs_panel_search_colors_enabled"),a=n("#iki-fs-panel-search"),r=a.find(".search-wrapper"),c=r.find(".search-form-wrapper"),l=c.find(".search-field");t.color("sass_fs_panel_search_el_color",l,!1,!1,s),t.backgroundColor("sass_fs_panel_search_el_bg_color",c,!1,s),t.borderColorSingleSide("sass_fs_panel_search_el_border_color",c,"bottom",s),wp.customize("fw_options[fs_panel_search_el_size]",function(n){n.bind(function(n){"normal"===JSON.parse(n)[0].value?(r.removeClass("iki-fs-search-size-small"),r.addClass("iki-fs-search-size-normal")):(r.removeClass("iki-fs-search-size-normal"),r.addClass("iki-fs-search-size-small"))})});var u=wp.customize.instance("fw_options[sass_fs_panel_search_el_ph_color]").get();wp.customize("fw_options[sass_fs_panel_search_el_ph_color]",function(n){n.bind(function(n){var e=JSON.parse(n),o=e[0].value.trim();u=o,s()&&i()})}),window.PubSub.subscribe("iki_css_compile",function(n,i){if(s()){var e="#iki-fs-panel-search .search-form-wrapper input::-moz-placeholder {color:"+u+";}";e+="#iki-fs-panel-search .search-form-wrapper input::-webkit-input-placeholder {color:"+u+";}",e+="#iki-fs-panel-search .search-form-wrapper input:-ms-input-placeholder {color:"+u+";}",e+="#iki-fs-panel-search .search-form-wrapper input::placeholder {color:"+u+";}",i.css+=e}})}),window.ikiToolkit=window.ikiToolkit||{},window.ikiToolkit.customizer=window.ikiToolkit.customizer||{},window.ikiToolkit.customizer.FsPanels=function(n,i){"use strict";function e(e){function o(){i.PubSub.publish("iki_css_injection_request")}function t(){var n=".iki-fs-panel-"+s.panelNum+" a {color:"+r+";}";return n+=".iki-fs-panel-"+s.panelNum+" a:hover {color:"+c+";}"}this.elementUpdates=Object.create(i.ikiToolkit.admin.customizer.elementUpdates),this.panelNum=e,this.$panel=n("#iki-fs-panel-"+e),this.$panelWrapper=this.$panel.find(".iki-fs-wrapper"),this.$panelOverlay=this.$panel.find(".panel-overlay"),this.$closeBtn=this.$panel.find(".iki-close-btn"),this.$titles=this.$panel.find("h1,h2,h3,h4,h5,h6");var s=this;wp.customize("fw_options[fs_panel_"+this.panelNum+"_anim_in]",function(n){n.bind(function(n){var e=JSON.parse(n);i.ikiToolkit.activePanels["iki-fs-panel-"+s.panelNum].options.animationIn=e[0].value})}),wp.customize("fw_options[fs_panel_"+this.panelNum+"_anim_out]",function(n){n.bind(function(n){var e=JSON.parse(n);i.ikiToolkit.activePanels["iki-fs-panel-"+s.panelNum].options.animationOut=e[0].value})});var a=this.elementUpdates.checkEnabledKey("fs_panel_"+this.panelNum+"_colors_enabled");wp.customize("fw_options[fs_panel_"+this.panelNum+"_content_width]",function(n){n.bind(function(n){"fixed"===JSON.parse(n)[0].value?s.$panelWrapper.addClass("iki-fixed-width"):s.$panelWrapper.removeClass("iki-fixed-width")})}),wp.customize("fw_options[fs_panel_"+this.panelNum+"_content_align]",function(n){n.bind(function(n){"top"===JSON.parse(n)[0].value?s.$panelWrapper.addClass("iki-align-top"):s.$panelWrapper.removeClass("iki-align-top")})}),this.elementUpdates.color("sass_fs_panel_"+this.panelNum+"_close_btn_color",this.$closeBtn,!1,!1,a),this.elementUpdates.backgroundColor("sass_fs_panel_"+this.panelNum+"_close_btn_bg_color",this.$closeBtn,!1,!1,a),this.elementUpdates.backgroundColor("sass_fs_panel_"+this.panelNum+"_overlay_bg_color",this.$panelOverlay,!1,!1,a),this.elementUpdates.background("fs_panel_"+this.panelNum,this.$panel,!1,!1,a),this.elementUpdates.color("sass_fs_panel_"+this.panelNum+"_color",this.$panel,!1,!1,a),this.elementUpdates.color("sass_fs_panel_"+this.panelNum+"_title_color",this.$titles,!1,!1,a);var r=wp.customize.instance("fw_options[sass_fs_panel_"+this.panelNum+"_link_color]").get();wp.customize("fw_options[sass_fs_panel_"+this.panelNum+"_link_color]",function(n){n.bind(function(n){var i=JSON.parse(n),e=i[0].value.trim();r=e,o()})});var c=wp.customize.instance("fw_options[sass_fs_panel_"+this.panelNum+"_link_color_hover]").get();wp.customize("fw_options[sass_fs_panel_"+this.panelNum+"_link_color_hover]",function(n){n.bind(function(n){var i=JSON.parse(n),e=i[0].value.trim();c=e,o()})}),i.PubSub.subscribe("iki_css_compile",function(n,i){a()&&(i.css+=t())})}return{init:e}}(jQuery,window);